# PRD â€” POS Prima Motor

## 1. Overview

| Item | Detail |
|---|---|
| **Nama Aplikasi** | POS Prima Motor |
| **Deskripsi** | Aplikasi Point of Sale (POS) untuk toko sparepart motor. Mengelola penjualan, pembelian, stok barang, data pelanggan, supplier, diskon, dan laporan keuangan. |
| **Tech Stack** | Next.js 16 (App Router) + TypeScript + Tailwind CSS + shadcn/ui |
| **Database** | Supabase (PostgreSQL) + Supabase Auth |
| **Hosting** | Vercel |
| **UI Library** | shadcn/ui (New York style) + Lucide Icons |
| **Target User** | Admin toko & Mekanik |

---

## 2. Arsitektur & Koneksi Database

### 2.1 Tech Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   VERCEL (Hosting)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Next.js 16 (App Router)           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  Pages   â”‚   â”‚   API    â”‚   â”‚  Server  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ (RSC)    â”‚   â”‚  Routes  â”‚   â”‚ Actions  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚  â”‚                      â”‚                      â”‚  â”‚
â”‚  â”‚           Supabase Client (SDK)             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTPS
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 SUPABASE (Backend)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Auth   â”‚  â”‚ Storage  â”‚  â”‚   PostgreSQL DB  â”‚   â”‚
â”‚  â”‚ (Login)  â”‚  â”‚ (Gambar) â”‚  â”‚   (Data Utama)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Koneksi Supabase

**File:** `lib/supabase.ts`

```typescript
import { createClient } from '@supabase/supabase-js'

// Client-side (browser)
export const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
)
```

**Environment Variables** (`.env.local`):
```
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxxxx
```

### 2.3 Database Schema (ERD)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  auth.users  â”‚       â”‚   profiles   â”‚       â”‚    customers     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (UUID) PK â”‚â—„â”€â”€â”€â”€â”€â”€â”‚ id (UUID) PK â”‚       â”‚ id (BIGSERIAL)   â”‚
â”‚ email        â”‚       â”‚ name         â”‚       â”‚ name             â”‚
â”‚ ...          â”‚       â”‚ role         â”‚       â”‚ phone            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ is_active    â”‚       â”‚ address          â”‚
       â”‚               â”‚ profile_pic  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
       â”‚                                               â”‚
       â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
       â”‚    â”‚  suppliers   â”‚      â”‚     items      â”‚   â”‚
       â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚
       â”‚    â”‚ id PK        â”‚      â”‚ id PK          â”‚   â”‚
       â”‚    â”‚ name         â”‚      â”‚ name           â”‚   â”‚
       â”‚    â”‚ phone        â”‚      â”‚ sku (UNIQUE)   â”‚   â”‚
       â”‚    â”‚ address      â”‚      â”‚ purchase_price â”‚   â”‚
       â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ selling_price  â”‚   â”‚
       â”‚           â”‚              â”‚ service_fee    â”‚   â”‚
       â”‚           â”‚              â”‚ picture        â”‚   â”‚
       â”‚           â”‚              â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
       â”‚           â”‚                  â”‚      â”‚         â”‚
       â–¼           â–¼                  â”‚      â”‚         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     purchases        â”‚    â”‚          sales                 â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id PK                â”‚    â”‚ id PK                          â”‚
â”‚ supplier_id FK â”€â”€â”€â”€â”€â”€â”‚    â”‚ customer_id FK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ purchase_date        â”‚    â”‚ mechanic_id FK (auth.users)    â”‚
â”‚ total_amount         â”‚    â”‚ sale_date                      â”‚
â”‚ created_by (UUID) FK â”‚    â”‚ total_amount                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ created_by (UUID) FK           â”‚
           â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  purchase_details    â”‚    â”‚     sale_details         â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id PK                â”‚    â”‚ id PK                    â”‚
â”‚ purchase_id FK       â”‚    â”‚ sale_id FK               â”‚
â”‚ item_id FK           â”‚    â”‚ item_id FK               â”‚
â”‚ quantity             â”‚    â”‚ quantity                 â”‚
â”‚ price                â”‚    â”‚ base_price               â”‚
â”‚ subtotal             â”‚    â”‚ discount_amount          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ final_price              â”‚
                            â”‚ service_fee              â”‚
                            â”‚ subtotal                 â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   stock_movements    â”‚    â”‚  discounts   â”‚    â”‚ discount_items â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id PK                â”‚    â”‚ id PK        â”‚    â”‚ discount_id FK â”‚
â”‚ item_id FK           â”‚    â”‚ name         â”‚    â”‚ item_id FK     â”‚
â”‚ type (IN/OUT)        â”‚    â”‚ type         â”‚    â”‚ PK(d_id,i_id)  â”‚
â”‚ quantity             â”‚    â”‚ value        â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ reference_type       â”‚    â”‚ min_trans    â”‚
â”‚ reference_id         â”‚    â”‚ is_active    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ start_date   â”‚
                            â”‚ end_date     â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. User Roles & Permissions

| Fitur | Admin | Mekanik |
|---|---|---|
| Dashboard (lihat semua data) | âœ… | âŒ |
| Dashboard (lihat data sendiri) | âœ… | âœ… |
| Master Data (CRUD) | âœ… | âŒ |
| Pembelian (CRUD) | âœ… | âŒ |
| Penjualan (Create) | âœ… | âœ… |
| Penjualan (Edit/Delete) | âœ… | âŒ |
| Penjualan (Lihat sendiri) | âœ… | âœ… |
| Stok (Lihat) | âœ… | âœ… |
| Diskon (CRUD) | âœ… | âŒ |
| Laporan | âœ… | âŒ |
| Setting | âœ… | âŒ |

---

## 4. Navigasi & Sitemap

### 4.1 Struktur URL (App Router)

```
app/
â”œâ”€â”€ (auth)/
â”‚   â”œâ”€â”€ login/page.tsx              â†’ /login
â”‚   â””â”€â”€ layout.tsx                  â†’ Layout tanpa sidebar
â”‚
â”œâ”€â”€ (dashboard)/
â”‚   â”œâ”€â”€ layout.tsx                  â†’ Layout dengan Sidebar + Navbar
â”‚   â”œâ”€â”€ page.tsx                    â†’ /  (Dashboard utama)
â”‚   â”‚
â”‚   â”œâ”€â”€ master-data/
â”‚   â”‚   â”œâ”€â”€ items/page.tsx          â†’ /master-data/items
â”‚   â”‚   â”œâ”€â”€ customers/page.tsx      â†’ /master-data/customers
â”‚   â”‚   â””â”€â”€ suppliers/page.tsx      â†’ /master-data/suppliers
â”‚   â”‚
â”‚   â”œâ”€â”€ purchases/
â”‚   â”‚   â”œâ”€â”€ page.tsx                â†’ /purchases  (List)
â”‚   â”‚   â”œâ”€â”€ create/page.tsx         â†’ /purchases/create
â”‚   â”‚   â””â”€â”€ [id]/page.tsx           â†’ /purchases/:id (Detail)
â”‚   â”‚
â”‚   â”œâ”€â”€ sales/
â”‚   â”‚   â”œâ”€â”€ page.tsx                â†’ /sales  (List)
â”‚   â”‚   â”œâ”€â”€ create/page.tsx         â†’ /sales/create
â”‚   â”‚   â””â”€â”€ [id]/page.tsx           â†’ /sales/:id (Detail)
â”‚   â”‚
â”‚   â”œâ”€â”€ stock/page.tsx              â†’ /stock
â”‚   â”œâ”€â”€ discounts/page.tsx          â†’ /discounts
â”‚   â”œâ”€â”€ reports/page.tsx            â†’ /reports
â”‚   â”‚
â”‚   â””â”€â”€ settings/
â”‚       â”œâ”€â”€ page.tsx                â†’ /settings (Profil)
â”‚       â””â”€â”€ users/page.tsx          â†’ /settings/users (Kelola User)
```

### 4.2 Sidebar Navigation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸï¸  PRIMA MOTOR            â”‚  â† Logo + Nama Toko
â”‚                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                             â”‚
â”‚  ğŸ“Š  Dashboard              â”‚  â† Aktif: bg-primary text-white
â”‚                             â”‚
â”‚  â”€â”€â”€ Master Data â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  â† Group Label (collapsible)
â”‚  ğŸ“¦  Barang / Item          â”‚
â”‚  ğŸ‘¥  Pelanggan              â”‚
â”‚  ğŸ­  Supplier               â”‚
â”‚                             â”‚
â”‚  â”€â”€â”€ Transaksi â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  â† Group Label (collapsible)
â”‚  ğŸ›’  Pembelian              â”‚
â”‚  ğŸ’°  Penjualan              â”‚
â”‚                             â”‚
â”‚  â”€â”€â”€ Inventori â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ğŸ“‹  Stok Barang            â”‚
â”‚  ğŸ·ï¸  Diskon                 â”‚
â”‚                             â”‚
â”‚  â”€â”€â”€ Lainnya â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ğŸ“ˆ  Laporan                â”‚
â”‚  âš™ï¸  Pengaturan             â”‚
â”‚                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ‘¤ Admin Prima Motor       â”‚  â† User info + Logout
â”‚     admin@prima.com         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Sidebar Behavior:**
- Desktop (â‰¥1024px): Sidebar tetap terbuka di kiri, lebar 256px
- Tablet (768-1023px): Sidebar bisa di-collapse jadi icon only (64px)
- Mobile (<768px): Sidebar tersembunyi, muncul sebagai drawer/overlay saat klik hamburger

### 4.3 Top Navbar

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â˜°  â”‚  Dashboard                    ğŸ””  ğŸ‘¤ Admin â–¼         â”‚
â”‚     â”‚  Selamat datang, Admin!                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚      â”‚                              â”‚    â”‚
  â”‚      â”‚                              â”‚    â””â”€ Dropdown: Profile, Logout
  â”‚      â””â”€ Breadcrumb / Page Title     â””â”€ Notification bell
  â””â”€ Toggle Sidebar (mobile/tablet)
```

---

## 5. Halaman & UI Design

### 5.1 Login Page (`/login`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚              ğŸï¸  PRIMA MOTOR                         â”‚
â”‚              Point of Sale System                    â”‚
â”‚                                                      â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â”‚  ğŸ“§ Email                    â”‚             â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚             â”‚
â”‚         â”‚  â”‚ admin@prima.com          â”‚â”‚             â”‚
â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚             â”‚
â”‚         â”‚                              â”‚             â”‚
â”‚         â”‚  ğŸ”’ Password                 â”‚             â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚             â”‚
â”‚         â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢            ğŸ‘ï¸   â”‚â”‚             â”‚
â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚             â”‚
â”‚         â”‚                              â”‚             â”‚
â”‚         â”‚  [      Masuk / Login      ] â”‚             â”‚
â”‚         â”‚                              â”‚             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Spesifikasi:**
- Supabase Auth `signInWithPassword()`
- Setelah login, redirect ke `/` (Dashboard)
- Simpan session via Supabase cookie/localStorage
- Jika belum login, redirect semua route ke `/login`

---

### 5.2 Dashboard (`/`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard                                        Hari ini â–¼    â”‚
â”‚  Selamat datang, Admin!                                         â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ğŸ’°       â”‚  â”‚ ğŸ›’       â”‚  â”‚ ğŸ“¦       â”‚  â”‚ ğŸ‘¥       â”‚        â”‚
â”‚  â”‚ Total    â”‚  â”‚ Total    â”‚  â”‚ Total    â”‚  â”‚ Total    â”‚        â”‚
â”‚  â”‚ Penjualanâ”‚  â”‚ Pembelianâ”‚  â”‚ Item     â”‚  â”‚ Customer â”‚        â”‚
â”‚  â”‚ Rp 25.5M â”‚  â”‚ Rp 18.2M â”‚  â”‚ 342      â”‚  â”‚ 156      â”‚        â”‚
â”‚  â”‚ â–² 12%    â”‚  â”‚ â–¼ 3%     â”‚  â”‚ â–² 5      â”‚  â”‚ â–² 8      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“Š Grafik Penjualan       â”‚  â”‚  ğŸ† Item Terlaris       â”‚   â”‚
â”‚  â”‚     (Line/Bar Chart)       â”‚  â”‚                         â”‚   â”‚
â”‚  â”‚                             â”‚  â”‚  1. Ban IRC 80/90     â”‚   â”‚
â”‚  â”‚     â–„                       â”‚  â”‚  2. Oli Yamalube 1L   â”‚   â”‚
â”‚  â”‚   â–„ â–ˆ â–„                     â”‚  â”‚  3. Kampas Rem Honda  â”‚   â”‚
â”‚  â”‚ â–„ â–ˆ â–ˆ â–ˆ â–„                   â”‚  â”‚  4. Busi NGK          â”‚   â”‚
â”‚  â”‚ â–ˆ â–ˆ â–ˆ â–ˆ â–ˆ                   â”‚  â”‚  5. V-Belt Vario      â”‚   â”‚
â”‚  â”‚ Sen Sel Rab Kam Jum Sab Min â”‚  â”‚                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âš ï¸ Stok Menipis            â”‚  â”‚  ğŸ• Transaksi Terakhir  â”‚   â”‚
â”‚  â”‚                             â”‚  â”‚                         â”‚   â”‚
â”‚  â”‚  Kampas Rem  â”‚ 3 pcs â”‚ âš ï¸  â”‚  â”‚  #INV-0045 â”‚ Rp 250K  â”‚   â”‚
â”‚  â”‚  Baut 10mm   â”‚ 5 pcs â”‚ âš ï¸  â”‚  â”‚  #INV-0044 â”‚ Rp 1.2M  â”‚   â”‚
â”‚  â”‚  Seal Shock  â”‚ 2 pcs â”‚ ğŸ”´  â”‚  â”‚  #INV-0043 â”‚ Rp 89K   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Komponen UI:**
- **Summary Cards** (4 kolom): Total Penjualan, Total Pembelian, Total Item, Total Customer
- **Chart Penjualan**: Line/Bar chart (gunakan library Recharts)
- **Item Terlaris**: Top 5 item paling banyak terjual
- **Stok Menipis**: Item dengan stok â‰¤ 5 (warning) atau â‰¤ 2 (danger)
- **Transaksi Terakhir**: 5 transaksi penjualan terbaru

**Data Query:**
```sql
-- Summary Cards
SELECT COUNT(*) FROM sales WHERE sale_date = CURRENT_DATE;
SELECT SUM(total_amount) FROM sales WHERE sale_date BETWEEN :start AND :end;
SELECT SUM(total_amount) FROM purchases WHERE purchase_date BETWEEN :start AND :end;

-- Item Terlaris
SELECT i.name, SUM(sd.quantity) as total_sold
FROM sale_details sd
JOIN items i ON i.id = sd.item_id
GROUP BY i.name
ORDER BY total_sold DESC LIMIT 5;

-- Stok Menipis
SELECT i.name,
  COALESCE(SUM(CASE WHEN sm.type='IN' THEN sm.quantity ELSE -sm.quantity END), 0) as stock
FROM items i
LEFT JOIN stock_movements sm ON sm.item_id = i.id
GROUP BY i.id, i.name
HAVING COALESCE(SUM(CASE WHEN sm.type='IN' THEN sm.quantity ELSE -sm.quantity END), 0) <= 5;
```

---

### 5.3 Master Data â€” Barang / Items (`/master-data/items`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Master Data > Barang                                           â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          [+ Tambah Barang]    â”‚
â”‚  â”‚  ğŸ” Cari barang...          â”‚                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â˜ â”‚ Foto â”‚ Nama Barang    â”‚ SKU      â”‚ Harga Beli â”‚ Harga  â”‚â”‚
â”‚  â”‚   â”‚      â”‚                â”‚          â”‚            â”‚ Jual   â”‚â”‚
â”‚  â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚ â˜ â”‚ ğŸ–¼ï¸   â”‚ Ban IRC 80/90  â”‚ BAN-001  â”‚ Rp 85.000  â”‚Rp120K  â”‚â”‚
â”‚  â”‚ â˜ â”‚ ğŸ–¼ï¸   â”‚ Oli Yamalube   â”‚ OLI-001  â”‚ Rp 28.000  â”‚Rp 35K  â”‚â”‚
â”‚  â”‚ â˜ â”‚ ğŸ–¼ï¸   â”‚ Kampas Rem     â”‚ KR-001   â”‚ Rp 15.000  â”‚Rp 25K  â”‚â”‚
â”‚  â”‚ â˜ â”‚ ğŸ–¼ï¸   â”‚ Busi NGK       â”‚ BSI-001  â”‚ Rp 12.000  â”‚Rp 18K  â”‚â”‚
â”‚  â”‚ â˜ â”‚ ğŸ–¼ï¸   â”‚ V-Belt Vario   â”‚ VBL-001  â”‚ Rp 65.000  â”‚Rp 95K  â”‚â”‚
â”‚  â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚          â”‚  â—€  1  2  3  â–¶  â”‚  Showing 1-10 of 50            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Modal / Dialog â€” Tambah / Edit Barang:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tambah Barang Baru                   âœ•  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                          â”‚
â”‚  Nama Barang *                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                          â”‚
â”‚  SKU                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Auto-generate atau manual        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Harga Beli *   â”‚ â”‚ Harga Jual *   â”‚   â”‚
â”‚  â”‚ Rp 0           â”‚ â”‚ Rp 0           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                          â”‚
â”‚  Jasa Service                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Rp 0                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                          â”‚
â”‚  Foto Barang                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“ Drag & drop atau klik upload â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                          â”‚
â”‚        [Batal]        [Simpan]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Fitur Tabel:**
- Search / filter by nama atau SKU
- Pagination (10, 25, 50 per page)
- Sort per kolom (klik header)
- Bulk delete (checkbox)
- Action per row: Edit (âœï¸), Delete (ğŸ—‘ï¸)

---

### 5.4 Master Data â€” Pelanggan (`/master-data/customers`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Master Data > Pelanggan                                        â”‚
â”‚                                                                  â”‚
â”‚  ğŸ” Cari pelanggan...                      [+ Tambah Pelanggan] â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ # â”‚ Nama Pelanggan    â”‚ No. Telepon    â”‚ Alamat       â”‚ Aksiâ”‚â”‚
â”‚  â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚ 1 â”‚ Budi Santoso      â”‚ 0812-3456-7890 â”‚ Jl. Merdeka  â”‚ âœï¸ğŸ—‘ï¸â”‚â”‚
â”‚  â”‚ 2 â”‚ Andi Wijaya       â”‚ 0856-1234-5678 â”‚ Jl. Sudirman â”‚ âœï¸ğŸ—‘ï¸â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Fields:** name*, phone, address

---

### 5.5 Master Data â€” Supplier (`/master-data/suppliers`)

Sama seperti Pelanggan. **Fields:** name*, phone, address

---

### 5.6 Pembelian (`/purchases`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pembelian                                                       â”‚
â”‚                                                                  â”‚
â”‚  ğŸ” Cari...  ğŸ“… Filter Tanggal           [+ Buat Pembelian]     â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ # â”‚ Tanggal    â”‚ Supplier       â”‚ Total       â”‚ Dibuat â”‚Aksiâ”‚â”‚
â”‚  â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚ 1 â”‚ 2026-02-26 â”‚ PT Astra Honda â”‚ Rp 5.250.000â”‚ Admin  â”‚ ğŸ‘ï¸ â”‚â”‚
â”‚  â”‚ 2 â”‚ 2026-02-25 â”‚ CV Yamaha Part â”‚ Rp 3.100.000â”‚ Admin  â”‚ ğŸ‘ï¸ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Form Buat Pembelian (`/purchases/create`):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Buat Pembelian Baru                                            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Supplier *          â”‚  â”‚ Tanggal *            â”‚              â”‚
â”‚  â”‚ [Pilih Supplier â–¼]  â”‚  â”‚ [2026-02-26]         â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”‚  Detail Barang                              [+ Tambah Baris]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Barang           â”‚ Qty â”‚ Harga Beli     â”‚ Subtotal    â”‚  âœ•  â”‚â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚ [Cari barang â–¼]  â”‚ [1] â”‚ [Rp 85.000]   â”‚ Rp 85.000   â”‚  ğŸ—‘ï¸ â”‚â”‚
â”‚  â”‚ [Cari barang â–¼]  â”‚ [5] â”‚ [Rp 28.000]   â”‚ Rp 140.000  â”‚  ğŸ—‘ï¸ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚                              Total: Rp 225.000                   â”‚
â”‚                                                                  â”‚
â”‚                    [Batal]        [Simpan Pembelian]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Logic saat simpan:**
1. Insert ke `purchases` (header)
2. Insert ke `purchase_details` (detail per item)
3. Insert ke `stock_movements` (type = 'IN' per item)
4. Update stok otomatis

---

### 5.7 Penjualan (`/sales`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Penjualan                                                       â”‚
â”‚                                                                  â”‚
â”‚  ğŸ” Cari...  ğŸ“… Filter Tanggal           [+ Buat Penjualan]    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ # â”‚ Tanggal    â”‚ Pelanggan   â”‚ Mekanik â”‚ Total     â”‚ Aksi   â”‚â”‚
â”‚  â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚ 1 â”‚ 2026-02-26 â”‚ Budi S.     â”‚ Doni    â”‚ Rp 250.000â”‚ ğŸ‘ï¸ âœï¸ ğŸ—‘ï¸â”‚â”‚
â”‚  â”‚ 2 â”‚ 2026-02-26 â”‚ Walk-in     â”‚ Eko     â”‚ Rp 1.2jt  â”‚ ğŸ‘ï¸ âœï¸ ğŸ—‘ï¸â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Form Buat Penjualan (`/sales/create`):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Buat Penjualan Baru                                            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Pelanggan           â”‚  â”‚ Mekanik *            â”‚              â”‚
â”‚  â”‚ [Pilih/Buat Baru â–¼] â”‚  â”‚ [Pilih Mekanik â–¼]   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚ Tanggal *            â”‚                                       â”‚
â”‚  â”‚ [2026-02-26]         â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                                  â”‚
â”‚  Detail Barang                              [+ Tambah Baris]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Barang       â”‚Qtyâ”‚Harga   â”‚Diskon   â”‚Jasa    â”‚Subtotal â”‚ âœ•  â”‚â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚[Cari item â–¼] â”‚[1]â”‚Rp 120K â”‚Rp 0    â”‚Rp 15K  â”‚Rp 135K  â”‚ ğŸ—‘ï¸ â”‚â”‚
â”‚  â”‚[Cari item â–¼] â”‚[2]â”‚Rp 35K  â”‚Rp 5K   â”‚Rp 0    â”‚Rp 65K   â”‚ ğŸ—‘ï¸ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ Diskon Transaksi             â”‚                                â”‚
â”‚  â”‚ [Pilih diskon â–¼]  -Rp 10.000 â”‚                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                  â”‚
â”‚                Subtotal:    Rp 200.000                            â”‚
â”‚                Diskon:     -Rp  10.000                            â”‚
â”‚                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚                TOTAL:       Rp 190.000                            â”‚
â”‚                                                                  â”‚
â”‚                   [Batal]        [Simpan Penjualan]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Logic saat simpan:**
1. Insert ke `sales` (header)
2. Insert ke `sale_details` (detail per item, termasuk diskon & jasa)
3. Insert ke `stock_movements` (type = 'OUT' per item)
4. Validasi stok cukup sebelum simpan

---

### 5.8 Stok Barang (`/stock`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stok Barang                                                     â”‚
â”‚                                                                  â”‚
â”‚  ğŸ” Cari barang...   Filter: [Semua â–¼] [Stok Menipis â–¼]        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ # â”‚ Barang         â”‚ SKU     â”‚ Stok â”‚ Masuk â”‚ Keluarâ”‚Status â”‚â”‚
â”‚  â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚ 1 â”‚ Ban IRC 80/90  â”‚ BAN-001 â”‚  25  â”‚  50   â”‚  25   â”‚ ğŸŸ¢   â”‚â”‚
â”‚  â”‚ 2 â”‚ Oli Yamalube   â”‚ OLI-001 â”‚  40  â”‚ 100   â”‚  60   â”‚ ğŸŸ¢   â”‚â”‚
â”‚  â”‚ 3 â”‚ Kampas Rem     â”‚ KR-001  â”‚   3  â”‚  20   â”‚  17   â”‚ ğŸŸ¡   â”‚â”‚
â”‚  â”‚ 4 â”‚ Seal Shock     â”‚ SS-001  â”‚   1  â”‚  10   â”‚   9   â”‚ ğŸ”´   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  ğŸŸ¢ Stok Aman (>10)   ğŸŸ¡ Menipis (â‰¤5)   ğŸ”´ Kritis (â‰¤2)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Stok dihitung dari `stock_movements`:**
```sql
SELECT i.id, i.name, i.sku,
  COALESCE(SUM(CASE WHEN sm.type = 'IN' THEN sm.quantity ELSE 0 END), 0) AS total_in,
  COALESCE(SUM(CASE WHEN sm.type = 'OUT' THEN sm.quantity ELSE 0 END), 0) AS total_out,
  COALESCE(SUM(CASE WHEN sm.type = 'IN' THEN sm.quantity ELSE -sm.quantity END), 0) AS current_stock
FROM items i
LEFT JOIN stock_movements sm ON sm.item_id = i.id
GROUP BY i.id, i.name, i.sku
ORDER BY current_stock ASC;
```

---

### 5.9 Diskon (`/discounts`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Diskon                                                          â”‚
â”‚                                                                  â”‚
â”‚  ğŸ” Cari...                                [+ Tambah Diskon]    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ # â”‚ Nama Diskon     â”‚ Tipe   â”‚ Nilai â”‚ Berlaku      â”‚ Aktif â”‚â”‚
â”‚  â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚ 1 â”‚ Diskon Lebaran  â”‚ Persen â”‚ 10%   â”‚ 01/03 - 15/04â”‚ ğŸŸ¢   â”‚â”‚
â”‚  â”‚ 2 â”‚ Potongan Member â”‚ Fixed  â”‚ Rp 5K â”‚ Sepanjang    â”‚ ğŸŸ¢   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Fields form:**
- Nama diskon*
- Tipe (percent / fixed)*
- Nilai*
- Min. transaksi
- Max persen (untuk tipe percent)
- Tanggal mulai & berakhir
- Aktif (toggle)
- Item terkait (multi-select, opsional â€” jika kosong berlaku semua)

---

### 5.10 Laporan (`/reports`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Laporan                                                         â”‚
â”‚                                                                  â”‚
â”‚  Tab: [Penjualan] [Pembelian] [Laba/Rugi]                       â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“… Periode: [01/02/2026] - [26/02/2026]   [ğŸ” Filter]         â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ğŸ“Š Grafik Penjualan per Hari (Bar Chart)                   â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚    â–„â–„                                                        â”‚â”‚
â”‚  â”‚  â–„â–„â–ˆâ–ˆâ–„â–„    â–„â–„                                                â”‚â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„â–„  â–ˆâ–ˆâ–„â–„â–„â–„                                            â”‚â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Total Penjualan :  Rp 25.500.000    â”‚                        â”‚
â”‚  â”‚ Total Pembelian :  Rp 18.200.000    â”‚                        â”‚
â”‚  â”‚ Laba Kotor      :  Rp  7.300.000    â”‚                        â”‚
â”‚  â”‚ Total Jasa      :  Rp  1.250.000    â”‚                        â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                        â”‚
â”‚  â”‚ Laba Bersih     :  Rp  8.550.000    â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                  â”‚
â”‚  [ğŸ“¥ Export Excel]  [ğŸ–¨ï¸ Print]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.11 Pengaturan (`/settings`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pengaturan                                                      â”‚
â”‚                                                                  â”‚
â”‚  Tab: [Profil Saya] [Kelola User]                                â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€ Profil Saya â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  Nama: Admin Prima Motor                               â”‚
â”‚  â”‚ ğŸ‘¤   â”‚  Email: admin@prima.com                               â”‚
â”‚  â”‚ foto â”‚  Role: Admin                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚           [ğŸ“· Ganti Foto]  [âœï¸ Edit Profil]  [ğŸ”’ Ganti Password]â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€ Kelola User (Admin Only) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ # â”‚ Nama         â”‚ Email            â”‚ Role    â”‚ Aktif â”‚ Aksiâ”‚â”‚
â”‚  â”‚â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”‚â”‚
â”‚  â”‚ 1 â”‚ Admin        â”‚ admin@prima.com  â”‚ Admin   â”‚ ğŸŸ¢    â”‚ âœï¸  â”‚â”‚
â”‚  â”‚ 2 â”‚ Doni Mekanik â”‚ doni@prima.com   â”‚ Mekanik â”‚ ğŸŸ¢    â”‚ âœï¸ğŸ—‘ï¸â”‚â”‚
â”‚  â”‚ 3 â”‚ Eko Mekanik  â”‚ eko@prima.com    â”‚ Mekanik â”‚ ğŸ”´    â”‚ âœï¸ğŸ—‘ï¸â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                           [+ Tambah User]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Tambah User = Supabase Auth signup + insert ke `profiles`**

---

## 6. Komponen UI (shadcn/ui)

### 6.1 Komponen yang Digunakan

| Komponen | Kegunaan |
|---|---|
| `Button` | Semua tombol aksi |
| `Input` | Form fields |
| `Table` | Data tables di semua halaman list |
| `Dialog` | Modal tambah/edit data |
| `Select` | Dropdown pilihan (supplier, pelanggan, dll) |
| `Command` (Combobox) | Searchable dropdown (cari item, customer) |
| `Card` | Summary cards di dashboard |
| `Badge` | Status label (aktif/nonaktif, stok) |
| `Tabs` | Tab navigasi di laporan & settings |
| `Sheet` | Mobile sidebar drawer |
| `DropdownMenu` | Menu aksi per row & user dropdown navbar |
| `Avatar` | Foto profil user |
| `Breadcrumb` | Navigasi breadcrumb di navbar |
| `Pagination` | Navigasi halaman tabel |
| `Calendar` + `Popover` | Date picker |
| `Toast` / `Sonner` | Notifikasi sukses/error |
| `AlertDialog` | Konfirmasi hapus data |
| `Skeleton` | Loading state |
| `Switch` | Toggle aktif/nonaktif |

### 6.2 Folder Structure Komponen

```
components/
â”œâ”€â”€ ui/                        â† shadcn/ui (auto-generated)
â”‚   â”œâ”€â”€ button.tsx
â”‚   â”œâ”€â”€ input.tsx
â”‚   â”œâ”€â”€ table.tsx
â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”œâ”€â”€ ...
â”‚
â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ sidebar.tsx            â† Sidebar navigasi
â”‚   â”œâ”€â”€ navbar.tsx             â† Top navbar
â”‚   â”œâ”€â”€ sidebar-item.tsx       â† Item di sidebar
â”‚   â””â”€â”€ mobile-sidebar.tsx     â† Sidebar versi mobile (Sheet)
â”‚
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ summary-cards.tsx      â† 4 card ringkasan
â”‚   â”œâ”€â”€ sales-chart.tsx        â† Grafik penjualan
â”‚   â”œâ”€â”€ top-items.tsx          â† Item terlaris
â”‚   â”œâ”€â”€ low-stock-alert.tsx    â† Peringatan stok menipis
â”‚   â””â”€â”€ recent-transactions.tsx
â”‚
â”œâ”€â”€ data-table/
â”‚   â”œâ”€â”€ data-table.tsx         â† Reusable table component
â”‚   â”œâ”€â”€ data-table-pagination.tsx
â”‚   â”œâ”€â”€ data-table-toolbar.tsx â† Search + Filter
â”‚   â””â”€â”€ columns/
â”‚       â”œâ”€â”€ items-columns.tsx
â”‚       â”œâ”€â”€ customers-columns.tsx
â”‚       â”œâ”€â”€ suppliers-columns.tsx
â”‚       â”œâ”€â”€ purchases-columns.tsx
â”‚       â”œâ”€â”€ sales-columns.tsx
â”‚       â””â”€â”€ stock-columns.tsx
â”‚
â”œâ”€â”€ forms/
â”‚   â”œâ”€â”€ item-form.tsx
â”‚   â”œâ”€â”€ customer-form.tsx
â”‚   â”œâ”€â”€ supplier-form.tsx
â”‚   â”œâ”€â”€ purchase-form.tsx
â”‚   â”œâ”€â”€ sale-form.tsx
â”‚   â””â”€â”€ discount-form.tsx
â”‚
â””â”€â”€ shared/
    â”œâ”€â”€ page-header.tsx        â† Judul halaman + tombol aksi
    â”œâ”€â”€ delete-dialog.tsx      â† Konfirmasi hapus (reusable)
    â”œâ”€â”€ empty-state.tsx        â† Tampilan data kosong
    â””â”€â”€ currency-input.tsx     â† Input format Rupiah
```

---

## 7. Design System

### 7.1 Warna

| Token | Warna | Kegunaan |
|---|---|---|
| `primary` | Blue 600 `#2563EB` | Tombol utama, sidebar aktif, link |
| `destructive` | Red 600 `#DC2626` | Hapus, error, stok kritis |
| `warning` | Amber 500 `#F59E0B` | Stok menipis, peringatan |
| `success` | Green 600 `#16A34A` | Stok aman, aktif, sukses |
| `background` | White `#FFFFFF` | Background utama |
| `sidebar` | Slate 900 `#0F172A` | Background sidebar gelap |
| `muted` | Slate 100 `#F1F5F9` | Background secondary |

### 7.2 Typography

| Element | Font | Size | Weight |
|---|---|---|---|
| Page Title | Geist Sans | 24px (text-2xl) | Semibold (600) |
| Section Title | Geist Sans | 18px (text-lg) | Semibold (600) |
| Table Header | Geist Sans | 14px (text-sm) | Medium (500) |
| Body | Geist Sans | 14px (text-sm) | Normal (400) |
| Caption | Geist Sans | 12px (text-xs) | Normal (400) |
| Monospace (harga) | Geist Mono | 14px (text-sm) | Medium (500) |

### 7.3 Spacing & Layout

- Sidebar width: 256px (desktop), 64px (collapsed), 0 (mobile)
- Navbar height: 64px
- Content padding: 24px (p-6)
- Card gap: 16px (gap-4)
- Table row height: 48px
- Border radius: 8px (rounded-lg)

---

## 8. Responsive Breakpoints

| Breakpoint | Width | Layout |
|---|---|---|
| Mobile | < 768px | Sidebar hidden (hamburger menu), single column cards, table scroll horizontal |
| Tablet | 768px - 1023px | Sidebar collapsed (icon only), 2 column cards |
| Desktop | â‰¥ 1024px | Sidebar full, 4 column cards, full table |

---

## 9. State Management & Data Flow

### 9.1 Data Fetching Pattern

```
Page (Server Component)
  â””â”€â”€ fetch data from Supabase
       â””â”€â”€ Pass data as props to Client Components
            â””â”€â”€ Client Components handle interactions (forms, modals)
                 â””â”€â”€ Server Actions untuk mutasi data (insert/update/delete)
                      â””â”€â”€ revalidatePath() untuk refresh data
```

### 9.2 Contoh Pattern

```typescript
// app/(dashboard)/master-data/items/page.tsx (Server Component)
import { supabase } from '@/lib/supabase'
import { ItemsDataTable } from '@/components/data-table/items-data-table'

export default async function ItemsPage() {
  const { data: items } = await supabase
    .from('items')
    .select('*')
    .order('created_at', { ascending: false })

  return (
    <div>
      <PageHeader title="Barang" action={<AddItemButton />} />
      <ItemsDataTable data={items ?? []} />
    </div>
  )
}
```

```typescript
// app/actions/items.ts (Server Action)
'use server'
import { supabase } from '@/lib/supabase'
import { revalidatePath } from 'next/cache'

export async function createItem(formData: FormData) {
  const { error } = await supabase.from('items').insert({
    name: formData.get('name'),
    sku: formData.get('sku'),
    purchase_price: formData.get('purchase_price'),
    selling_price: formData.get('selling_price'),
    service_fee: formData.get('service_fee') || 0,
  })

  if (error) throw new Error(error.message)
  revalidatePath('/master-data/items')
}
```

---

## 10. Prioritas Pengembangan (Roadmap)

### Phase 1 â€” Foundation (Minggu 1)
- [x] Setup project Next.js + Supabase + Tailwind
- [x] Setup database schema di Supabase
- [x] Install shadcn/ui components
- [ ] Layout: Sidebar + Navbar
- [ ] Auth: Login page + middleware protect routes
- [ ] Profiles table + auto-create on signup

### Phase 2 â€” Master Data (Minggu 2)
- [ ] CRUD Barang (items) + upload foto ke Supabase Storage
- [ ] CRUD Pelanggan (customers)
- [ ] CRUD Supplier (suppliers)
- [ ] Reusable DataTable component

### Phase 3 â€” Transaksi (Minggu 3)
- [ ] Pembelian: form + auto stock_movements IN
- [ ] Penjualan: form + auto stock_movements OUT + diskon
- [ ] Detail view pembelian & penjualan

### Phase 4 â€” Dashboard & Laporan (Minggu 4)
- [ ] Dashboard: summary cards, charts (Recharts), alerts
- [ ] Halaman Stok
- [ ] Halaman Laporan + export Excel/print
- [ ] CRUD Diskon

### Phase 5 â€” Polish (Minggu 5)
- [ ] Settings: profil, kelola user
- [ ] RLS policies Supabase
- [ ] Responsive testing
- [ ] Deploy ke Vercel
- [ ] Testing & bug fixing
